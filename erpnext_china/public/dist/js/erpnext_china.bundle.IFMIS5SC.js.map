{
  "version": 3,
  "sources": ["../../../../../apps/erpnext_china/erpnext_china/public/js/form_button_permission.js", "../../../../../apps/erpnext_china/erpnext_china/public/js/button_permissions.js", "../../../../../apps/erpnext_china/erpnext_china/public/js/theme_switcher.js"],
  "sourcesContent": ["const PermissionForm = class PermissionForm extends frappe.ui.form.Form {\n\tadd_custom_button(label, fn, group) {\t\t\n\t\t// const button_perms = frappe.button_perms;\n\n\t\t\n\t\t// \u4ECElocalStorage\u4E2D\u83B7\u53D6\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\n\t\tvar storedJsonString = localStorage.getItem('button_perms_jsonString');\n\t\t// \u5C06\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u8F6C\u6362\u56DE\u5B57\u5178\n\t\tvar button_perms = JSON.parse(storedJsonString);\n\n\n\t\tif (this.doctype in button_perms) {\n\t\t\tif (!(button_perms[this.doctype]['label_info'].includes((label+'__'+group).replace('undefined','')))) {\n\t\t\t\t// temp! old parameter used to be icon\n\t\t\t\tif (group && group.indexOf(\"fa fa-\") !== -1) group = null;\n\n\t\t\t\tlet btn = this.page.add_inner_button(label, fn, group);\n\n\t\t\t\tif (btn) {\n\t\t\t\t\t// Add actions as menu item in Mobile View\n\t\t\t\t\tlet menu_item_label = group ? `${group} > ${label}` : label;\n\t\t\t\t\tlet menu_item = this.page.add_menu_item(menu_item_label, fn, false);\n\t\t\t\t\tmenu_item.parent().addClass(\"hidden-xl\");\n\n\t\t\t\t\tthis.custom_buttons[label] = btn;\n\t\t\t\t}\n\t\t\t\treturn btn;\n\t\t\t}\n\t\t} \n\t\telse {\n\t\t\t// temp! old parameter used to be icon\n\t\t\tif (group && group.indexOf(\"fa fa-\") !== -1) group = null;\n\t\t\tlet btn = this.page.add_inner_button(label, fn, group);\n\n\t\t\tif (btn) {\n\t\t\t\t// Add actions as menu item in Mobile View\n\t\t\t\tlet menu_item_label = group ? `${group} > ${label}` : label;\n\t\t\t\tlet menu_item = this.page.add_menu_item(menu_item_label, fn, false);\n\t\t\t\tmenu_item.parent().addClass(\"hidden-xl\");\n\n\t\t\t\tthis.custom_buttons[label] = btn;\n\t\t\t\t}\n\t\t\t\treturn btn;\n\t\t}\n\t}\n}\n\nfrappe.ui.form.Form = PermissionForm\n", "$(document).on('app_ready', function() {\n\tif (document.referrer.includes(\"/login\")) {\n\t\tfrappe.call({\n\t\t\t'method': \"erpnext_china.erpnext_china.doctype.button_permission.button_permission.get_button_permission\",\n\t\t\t'callback': function(response) {\n\t\t\t\tif (response.message) {\n                    // frappe.button_perms = response.message;\n\t\t\t\t\t\n\t\t\t\t\t// \u8981\u5B58\u50A8\u7684\u5B57\u5178\n\t\t\t\t\tvar button_perms = response.message;\n\t\t\t\t\t// \u5C06\u5B57\u5178\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\n\t\t\t\t\tvar button_perms_jsonString = JSON.stringify(button_perms);\n\t\t\t\t\t// \u4F7F\u7528localStorage\u5B58\u50A8\u5B57\u7B26\u4E32\n\t\t\t\t\tlocalStorage.setItem('button_perms_jsonString', button_perms_jsonString);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});", "frappe.provide(\"frappe.ui\");\n\nfrappe.ui.ThemeSwitcher = class CustomThemeSwitcher extends frappe.ui.ThemeSwitcher {\n    constructor() {\n        super()\n    }\n\n    fetch_themes() {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.themes = [\n\t\t\t\t{\n\t\t\t\t\tname: \"light\",\n\t\t\t\t\tlabel:__(\"Frappe Light\"),\n\t\t\t\t\tinfo:(\"Light Theme\"),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"dark\",\n\t\t\t\t\tlabel:__(\"Timeless Night\"),\n\t\t\t\t\tinfo:\"Dark Theme\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"automatic\",\n\t\t\t\t\tlabel:__(\"Automatic\"),\n\t\t\t\t\tinfo:\"Uses system's theme to switch between light and dark mode\",\n\t\t\t\t},\n                {\n                    name:\"business\",\n                    label: __(\"Business\"),\n                    info: \"\u4E3B\u9898\u6B63\u5728\u5F00\u53D1\u4E2D\"\n                }\n\t\t\t];\n\n\t\t\tresolve(this.themes);\n\t\t});\n\t}\n}"],
  "mappings": ";;AAAA,MAAM,iBAAiB,MAAMA,wBAAuB,OAAO,GAAG,KAAK,KAAK;AAAA,IACvE,kBAAkB,OAAO,IAAI,OAAO;AAKnC,UAAI,mBAAmB,aAAa,QAAQ,yBAAyB;AAErE,UAAI,eAAe,KAAK,MAAM,gBAAgB;AAG9C,UAAI,KAAK,WAAW,cAAc;AACjC,YAAI,CAAE,aAAa,KAAK,SAAS,cAAc,UAAU,QAAM,OAAK,OAAO,QAAQ,aAAY,EAAE,CAAC,GAAI;AAErG,cAAI,SAAS,MAAM,QAAQ,QAAQ,MAAM;AAAI,oBAAQ;AAErD,cAAI,MAAM,KAAK,KAAK,iBAAiB,OAAO,IAAI,KAAK;AAErD,cAAI,KAAK;AAER,gBAAI,kBAAkB,QAAQ,GAAG,WAAW,UAAU;AACtD,gBAAI,YAAY,KAAK,KAAK,cAAc,iBAAiB,IAAI,KAAK;AAClE,sBAAU,OAAO,EAAE,SAAS,WAAW;AAEvC,iBAAK,eAAe,SAAS;AAAA,UAC9B;AACA,iBAAO;AAAA,QACR;AAAA,MACD,OACK;AAEJ,YAAI,SAAS,MAAM,QAAQ,QAAQ,MAAM;AAAI,kBAAQ;AACrD,YAAI,MAAM,KAAK,KAAK,iBAAiB,OAAO,IAAI,KAAK;AAErD,YAAI,KAAK;AAER,cAAI,kBAAkB,QAAQ,GAAG,WAAW,UAAU;AACtD,cAAI,YAAY,KAAK,KAAK,cAAc,iBAAiB,IAAI,KAAK;AAClE,oBAAU,OAAO,EAAE,SAAS,WAAW;AAEvC,eAAK,eAAe,SAAS;AAAA,QAC7B;AACA,eAAO;AAAA,MACT;AAAA,IACD;AAAA,EACD;AAEA,SAAO,GAAG,KAAK,OAAO;;;AC/CtB,IAAE,QAAQ,EAAE,GAAG,aAAa,WAAW;AACtC,QAAI,SAAS,SAAS,SAAS,QAAQ,GAAG;AACzC,aAAO,KAAK;AAAA,QACX,UAAU;AAAA,QACV,YAAY,SAAS,UAAU;AAC9B,cAAI,SAAS,SAAS;AAIrB,gBAAI,eAAe,SAAS;AAE5B,gBAAI,0BAA0B,KAAK,UAAU,YAAY;AAEzD,yBAAa,QAAQ,2BAA2B,uBAAuB;AAAA,UACxE;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD,CAAC;;;AClBD,SAAO,QAAQ,WAAW;AAE1B,SAAO,GAAG,gBAAgB,MAAM,4BAA4B,OAAO,GAAG,cAAc;AAAA,IAChF,cAAc;AACV,YAAM;AAAA,IACV;AAAA,IAEA,eAAe;AACjB,aAAO,IAAI,QAAQ,CAAC,YAAY;AAC/B,aAAK,SAAS;AAAA,UACb;AAAA,YACC,MAAM;AAAA,YACN,OAAM,GAAG,cAAc;AAAA,YACvB,MAAM;AAAA,UACP;AAAA,UACA;AAAA,YACC,MAAM;AAAA,YACN,OAAM,GAAG,gBAAgB;AAAA,YACzB,MAAK;AAAA,UACN;AAAA,UACA;AAAA,YACC,MAAM;AAAA,YACN,OAAM,GAAG,WAAW;AAAA,YACpB,MAAK;AAAA,UACN;AAAA,UACY;AAAA,YACI,MAAK;AAAA,YACL,OAAO,GAAG,UAAU;AAAA,YACpB,MAAM;AAAA,UACV;AAAA,QACb;AAEA,gBAAQ,KAAK,MAAM;AAAA,MACpB,CAAC;AAAA,IACF;AAAA,EACD;",
  "names": ["PermissionForm"]
}
